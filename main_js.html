	<script type="text/javascript">
    $.sap.require("sap.ui.core.mvc.XMLView");  // Dynamic loading of XMLView

		sap.ui.getCore().attachInit(function () {
      let sViewContent = [];
      let oRootViewID = '1PNAcp3zDFtTN8i33b5LjtfIR2GcfmOu0', // RootView.xml
          oView1ID    = '1h06bYpYTn5RsKD2bzZ_G2gcOPwnvR-8s',
          oView2ID    = '1bXvVxshNm7RnFlyN90Ny8GUIvVN5U8B6';

      // Ensure the loading sequence of all views
      // const results = Promise.all([ getViewContent(oRootViewID),
      //                               getViewContent(oView1ID),
      //                               getViewContent(oView2ID)
      // ])
      // .then(function(res) {
      //   //res will be an array
      //   mainLogic(res);
      // }).catch(function(msg) {
      //   console.log(msg);
      // });
      getViewContent(oRootViewID).then(function (res) {
        // console.log(res);
        sViewContent.push(res);
        getViewContent(oView1ID).then(function (res) {
          //console.log(res);
          sViewContent.push(res);
          getViewContent(oView2ID).then(function (res) {
            //console.log(res);
            sViewContent.push(res);
            initView(sViewContent);
          })
        })
      })
		});


    function initView(pViewContent) {
      // console.log(pViewContent);

      sap.ui.core.mvc.XMLView.create({
        definition: pViewContent[1]
      }).then((view) => {
        sap.ui.core.mvc.XMLView.create({
          definition: pViewContent[2]
        }).then((view) => {
          // https://stackoverflow.com/questions/44872228/parse-xml-view-from-string
          sap.ui.core.mvc.XMLView.create({
            definition: pViewContent[0]
          }).then((view) => {
            mainLogic(view);
          })
        })
      })       
    }


    function mainLogic(oView) {
      window.rootView = oView;
      oView.placeAt("content");
    }
</script>
